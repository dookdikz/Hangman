EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
song.com -- emu8086 assembler version: 4.08  
 
[ 10/12/2558  --  20:40:37 ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       
[   2]        :                                       ; You may customize this and other start-up templates;
[   3]        :                                       ; The location of this template is c:\emu8086\inc\0_com_template.txt
[   4]        :                                       
[   5]        :                                       org 100h
[   6]        :                                       
[   7]        :                                       .MODEL    SMALL
[   8]    0100: E9 CC 00                              .DATA
[   9]        :                                       
[  10]        :                                       
[  11]        :                                       ;ความถี่เสียงของตัวโน๊ต  A
[  12]        :                                       A0 EQU 0A979H
[  13]        :                                       A1 EQU 54BDH
[  14]        :                                       A2 EQU 2A5EH
[  15]        :                                       A3 EQU 152FH
[  16]        :                                       A4 EQU 0A98H
[  17]        :                                       A5 EQU 054CH
[  18]        :                                       A6 EQU 02A6H
[  19]        :                                       A7 EQU 0152H
[  20]        :                                       
[  21]        :                                       ;ความถี่เสียงของตัวโน๊ต  A#
[  22]        :                                       AC0 EQU 9FF7H
[  23]        :                                       AC1 EQU 4FFBH
[  24]        :                                       AC2 EQU 27EEH
[  25]        :                                       AC3 EQU 13FFH
[  26]        :                                       AC4 EQU 09FFH
[  27]        :                                       AC5 EQU 0500H
[  28]        :                                       AC6 EQU 0280H
[  29]        :                                       AC7 EQU 0140H
[  30]        :                                       
[  31]        :                                       ;ความถี่เสียงของตัวโน๊ต  B
[  32]        :                                       B0 EQU 96FCH
[  33]        :                                       B1 EQU 4B7EH
[  34]        :                                       B2 EQU 25BFH
[  35]        :                                       B3 EQU 12E0H
[  36]        :                                       B4 EQU 0970H
[  37]        :                                       B5 EQU 04B8H
[  38]        :                                       B6 EQU 02A6H
[  39]        :                                       B7 EQU 012EH
[  40]        :                                       
[  41]        :                                       ;ความถี่เสียงของตัวโน๊ต  C
[  42]        :                                       C1 EQU 8E83H
[  43]        :                                       C2 EQU 4741H
[  44]        :                                       C3 EQU 23A1H
[  45]        :                                       C4 EQU 11D0H
[  46]        :                                       C5 EQU 08E8H
[  47]        :                                       C6 EQU 0474H
[  48]        :                                       C7 EQU 023AH
[  49]        :                                       C8 EQU 011DH
[  50]        :                                       
[  51]        :                                       ;ความถี่เสียงของตัวโน๊ต  C#
[  52]        :                                       CC1 EQU 8683H
[  53]        :                                       CC2 EQU 4341H
[  54]        :                                       CC3 EQU 21A1H
[  55]        :                                       CC4 EQU 10D0H
[  56]        :                                       CC5 EQU 0869H
[  57]        :                                       CC6 EQU 0434H
[  58]        :                                       CC7 EQU 021AH
[  59]        :                                       
[  60]        :                                       ;ความถี่เสียงของตัวโน๊ต  D
[  61]        :                                       D1 EQU 7EE6H
[  62]        :                                       D2 EQU 3F78H
[  63]        :                                       D3 EQU 1FBEH
[  64]        :                                       D4 EQU 0FDFH
[  65]        :                                       D5 EQU 07EFH
[  66]        :                                       D6 EQU 03F8H
[  67]        :                                       D7 EQU 01FCH
[  68]        :                                       
[  69]        :                                       ;ความถี่เสียงของตัวโน๊ต  D#
[  70]        :                                       DC1 EQU 77D6H
[  71]        :                                       DC2 EQU 3BEBH
[  72]        :                                       DC3 EQU 1DF6H
[  73]        :                                       DC4 EQU 0EFBH
[  74]        :                                       DC5 EQU 077DH
[  75]        :                                       DC6 EQU 03BFH
[  76]        :                                       DC7 EQU 01DFH
[  77]        :                                       
[  78]        :                                       ;ความถี่เสียงของตัวโน๊ต  E
[  79]        :                                       E1 EQU 711DH
[  80]        :                                       E2 EQU 388EH
[  81]        :                                       E3 EQU 1C47H
[  82]        :                                       E4 EQU 0E24H
[  83]        :                                       E5 EQU 0712H
[  84]        :                                       E6 EQU 0389H
[  85]        :                                       E7 EQU 01C4H
[  86]        :                                       
[  87]        :                                       ;ความถี่เสียงของตัวโน๊ต  F
[  88]        :                                       F1 EQU 6AC2H
[  89]        :                                       F2 EQU 3562H
[  90]        :                                       F3 EQU 1AB1H
[  91]        :                                       F4 EQU 0D58H
[  92]        :                                       F5 EQU 06ACH
[  93]        :                                       F6 EQU 0356H
[  94]        :                                       F7 EQU 01ABH
[  95]        :                                       
[  96]        :                                       ;ความถี่เสียงของตัวโน๊ต  F#
[  97]        :                                       FC1 EQU 64C5H
[  98]        :                                       FC2 EQU 3263H
[  99]        :                                       FC3 EQU 1931H
[ 100]        :                                       FC4 EQU 0C99H
[ 101]        :                                       FC5 EQU 064CH
[ 102]        :                                       FC6 EQU 0326H
[ 103]        :                                       FC7 EQU 0193H
[ 104]        :                                       
[ 105]        :                                       ;ความถี่เสียงของตัวโน๊ต  G
[ 106]        :                                       G1 EQU 5F1DH
[ 107]        :                                       G2 EQU 2F8FH
[ 108]        :                                       G3 EQU 17C7H
[ 109]        :                                       G4 EQU 0BE4H
[ 110]        :                                       G5 EQU 05F2H
[ 111]        :                                       G6 EQU 02F9H
[ 112]        :                                       G7 EQU 017CH
[ 113]        :                                       
[ 114]        :                                       ;ความถี่เสียงของตัวโน๊ต  G#
[ 115]        :                                       GC1 EQU 59C7H
[ 116]        :                                       GC2 EQU 2CE3H
[ 117]        :                                       GC3 EQU 1672H
[ 118]        :                                       GC4 EQU 0B39H
[ 119]        :                                       GC5 EQU 053CH
[ 120]        :                                       GC6 EQU 02CEH
[ 121]        :                                       GC7 EQU 0167H
[ 122]        :                                       
[ 123]        :                                       CONTROL_WORD EQU 10110110B ;0B6H
[ 124]        :                                       COUNTER2 EQU 42H
[ 125]        :                                       CONTROL_REGISTER_PORT EQU 43H
[ 126]        :                                       ;------------------------------------------END DECLARATION NOTE----------------------------------------------------
[ 127]        :                                       
[ 128]        :                                       
[ 129]        :                                       
[ 130]        :                                       
[ 131]    0103: 00 00                                 SOLO DW 0H
[ 132]    0105: 05 0A                                 DB 5,10
[ 133]        :                                       
[ 134]        :                                       ;START
[ 135]    0107: 12 07                                 DW E5
[ 136]    0109: 32 01                                 DB 50,1
[ 137]        :                                       
[ 138]    010B: EF 07                                 DW D5
[ 139]    010D: 32 01                                 DB 50,1
[ 140]        :                                       
[ 141]    010F: E8 08                                 DW C5
[ 142]    0111: 32 01                                 DB 50,1
[ 143]        :                                       
[ 144]    0113: EF 07                                 DW D5
[ 145]    0115: 32 01                                 DB 50,1
[ 146]        :                                       
[ 147]    0117: 12 07                                 DW E5
[ 148]    0119: 32 01                                 DB 50,1
[ 149]        :                                       
[ 150]    011B: 12 07                                 DW E5
[ 151]    011D: 32 01                                 DB 50,1
[ 152]        :                                       
[ 153]    011F: 12 07                                 DW E5
[ 154]    0121: 32 03                                 DB 50,3
[ 155]        :                                       
[ 156]    0123: EF 07                                 DW D5
[ 157]    0125: 32 01                                 DB 50,1
[ 158]        :                                       
[ 159]    0127: EF 07                                 DW D5
[ 160]    0129: 32 01                                 DB 50,1
[ 161]        :                                       
[ 162]    012B: EF 07                                 DW D5
[ 163]    012D: 32 03                                 DB 50,3
[ 164]        :                                       
[ 165]    012F: 12 07                                 DW E5
[ 166]    0131: 32 01                                 DB 50,1
[ 167]        :                                       
[ 168]    0133: F2 05                                 DW G5
[ 169]    0135: 32 01                                 DB 50,1
[ 170]        :                                       
[ 171]    0137: F2 05                                 DW G5
[ 172]    0139: 32 03                                 DB 50,3
[ 173]        :                                       
[ 174]        :                                       
[ 175]    013B: 12 07                                 DW E5
[ 176]    013D: 32 01                                 DB 50,1
[ 177]        :                                       
[ 178]    013F: EF 07                                 DW D5
[ 179]    0141: 32 01                                 DB 50,1
[ 180]        :                                       
[ 181]    0143: E8 08                                 DW C5
[ 182]    0145: 32 01                                 DB 50,1
[ 183]        :                                       
[ 184]    0147: EF 07                                 DW D5
[ 185]    0149: 32 01                                 DB 50,1
[ 186]        :                                       
[ 187]    014B: 12 07                                 DW E5
[ 188]    014D: 32 01                                 DB 50,1
[ 189]        :                                       
[ 190]        :                                       
[ 191]    014F: 12 07                                 DW E5
[ 192]    0151: 32 01                                 DB 50,1
[ 193]        :                                       
[ 194]    0153: 12 07                                 DW E5
[ 195]    0155: 32 03                                 DB 50,3
[ 196]        :                                       
[ 197]    0157: EF 07                                 DW D5
[ 198]    0159: 32 01                                 DB 50,1
[ 199]        :                                       
[ 200]        :                                       
[ 201]    015B: EF 07                                 DW D5
[ 202]    015D: 32 01                                 DB 50,1
[ 203]        :                                       
[ 204]    015F: 12 07                                 DW E5
[ 205]    0161: 32 01                                 DB 50,1
[ 206]        :                                       
[ 207]    0163: EF 07                                 DW D5
[ 208]    0165: 32 01                                 DB 50,1
[ 209]        :                                       
[ 210]    0167: E8 08                                 DW C5
[ 211]    0169: 32 09                                 DB 50,9
[ 212]        :                                       
[ 213]        :                                       
[ 214]    016B: 12 07                                 DW E5
[ 215]    016D: 32 01                                 DB 50,1
[ 216]        :                                       
[ 217]    016F: EF 07                                 DW D5
[ 218]    0171: 32 01                                 DB 50,1
[ 219]        :                                       
[ 220]    0173: E8 08                                 DW C5
[ 221]    0175: 32 01                                 DB 50,1
[ 222]        :                                       
[ 223]    0177: EF 07                                 DW D5
[ 224]    0179: 32 01                                 DB 50,1
[ 225]        :                                       
[ 226]    017B: 12 07                                 DW E5
[ 227]    017D: 32 01                                 DB 50,1
[ 228]        :                                       
[ 229]    017F: 12 07                                 DW E5
[ 230]    0181: 32 01                                 DB 50,1
[ 231]        :                                       
[ 232]    0183: 12 07                                 DW E5
[ 233]    0185: 32 03                                 DB 50,3
[ 234]        :                                       
[ 235]    0187: EF 07                                 DW D5
[ 236]    0189: 32 01                                 DB 50,1
[ 237]        :                                       
[ 238]    018B: EF 07                                 DW D5
[ 239]    018D: 32 01                                 DB 50,1
[ 240]        :                                       
[ 241]    018F: EF 07                                 DW D5
[ 242]    0191: 32 03                                 DB 50,3
[ 243]        :                                       
[ 244]    0193: 12 07                                 DW E5
[ 245]    0195: 32 01                                 DB 50,1
[ 246]        :                                       
[ 247]    0197: F2 05                                 DW G5
[ 248]    0199: 32 01                                 DB 50,1
[ 249]        :                                       
[ 250]    019B: F2 05                                 DW G5
[ 251]    019D: 32 03                                 DB 50,3
[ 252]        :                                       
[ 253]        :                                       
[ 254]    019F: 12 07                                 DW E5
[ 255]    01A1: 32 01                                 DB 50,1
[ 256]        :                                       
[ 257]    01A3: EF 07                                 DW D5
[ 258]    01A5: 32 01                                 DB 50,1
[ 259]        :                                       
[ 260]    01A7: E8 08                                 DW C5
[ 261]    01A9: 32 01                                 DB 50,1
[ 262]        :                                       
[ 263]    01AB: EF 07                                 DW D5
[ 264]    01AD: 32 01                                 DB 50,1
[ 265]        :                                       
[ 266]    01AF: 12 07                                 DW E5
[ 267]    01B1: 32 01                                 DB 50,1
[ 268]        :                                       
[ 269]        :                                       
[ 270]    01B3: 12 07                                 DW E5
[ 271]    01B5: 32 01                                 DB 50,1
[ 272]        :                                       
[ 273]    01B7: 12 07                                 DW E5
[ 274]    01B9: 32 03                                 DB 50,3
[ 275]        :                                       
[ 276]    01BB: EF 07                                 DW D5
[ 277]    01BD: 32 01                                 DB 50,1
[ 278]        :                                       
[ 279]        :                                       
[ 280]    01BF: EF 07                                 DW D5
[ 281]    01C1: 32 01                                 DB 50,1
[ 282]        :                                       
[ 283]    01C3: 12 07                                 DW E5
[ 284]    01C5: 32 01                                 DB 50,1
[ 285]        :                                       
[ 286]    01C7: EF 07                                 DW D5
[ 287]    01C9: 32 01                                 DB 50,1
[ 288]        :                                       
[ 289]    01CB: 00 00                                 DW 0H
[ 290]    01CD: 32 02                                 DB 50,2
[ 291]        :                                       
[ 292]        :                                       
[ 293]        :                                       
[ 294]        :                                       ;----------------------------------------------------MAIN PROGRAM-----------------------------------------------------
[ 295]    01CF:                                       .CODE
[ 296]    01CF:                                       MAIN  PROC    NEAR
[ 297]        :                                       
[ 298]    01CF: BE 00 00                              MOV    SI,0
[ 299]    01D2: 8C C8                                 MOV    AX,@DATA
[ 300]    01D4: 8E D8                                 MOV    DS,AX
[ 301]    01D6: B0 B6                                 MOV    AL,CONTROL_WORD
[ 302]    01D8: E6 43                                 OUT    CONTROL_REGISTER_PORT,AL
[ 303]    01DA: BB 03 01                              MOV    BX,OFFSET SOLO
[ 304]        :                                       
[ 305]    01DD: 8B 00                                 CHANGE:MOV    AX,[BX+SI]
[ 306]    01DF: E8 19 00                              CALL    SET_TIMER2
[ 307]    01E2: E8 1D 00                              CALL    SPK_ON
[ 308]    01E5: 46                                    INC    SI
[ 309]    01E6: 8A 08                                 MOV    CL,[BX+SI]
[ 310]        :                                       
[ 311]    01E8: E8 30 00                              START_DELAY_OFF: CALL    DELAY
[ 312]    01EB: E2 FB                                 LOOP    START_DELAY_OFF
[ 313]    01ED: 46                                    INC    SI
[ 314]    01EE: 8B 00                                 MOV    AX,[BX+SI]
[ 315]    01F0: 3D 00 00                              CMP    AX,0
[ 316]    01F3: 74 02                                 JZ    OUT_LOOP
[ 317]    01F5: EB E6                                 JMP    CHANGE
[ 318]        :                                       
[ 319]    01F7: B4 4C                                 OUT_LOOP:MOV    AH,4CH
[ 320]    01F9: CD 21                                 INT 21H
[ 321]        :                                       
[ 322]        :                                       MAIN    ENDP
[ 323]        :                                       
[ 324]        :                                       ;---------------------------------------------------SET TIMER2--------------------------------------------------------
[ 325]    01FB:                                       SET_TIMER2   PROC    NEAR
[ 326]    01FB: E6 42                                 OUT    COUNTER2,AL
[ 327]    01FD: 8A C4                                 MOV    AL,AH
[ 328]    01FF: E6 42                                 OUT    COUNTER2,AL
[ 329]    0201: C3                                    RET
[ 330]        :                                       SET_TIMER2     ENDP
[ 331]        :                                       
[ 332]        :                                       ;---------------------------------------------------SPEEKER ON--------------------------------------------------------
[ 333]    0202:                                       SPK_ON  PROC    NEAR
[ 334]    0202: 50                                    PUSH    AX
[ 335]    0203: E4 61                                 IN    AL,61H
[ 336]    0205: 8A E0                                 MOV    AH,AL
[ 337]    0207: 0C 03                                 OR    AL,3
[ 338]    0209: E6 61                                 OUT    61H,AL
[ 339]    020B: 83 C6 02                              ADD    SI,2
[ 340]    020E: 8A 08                                 MOV    CL,[BX+SI]
[ 341]        :                                       
[ 342]    0210: E8 08 00                              START_DELAY_ON:CALL    DELAY
[ 343]        :                                       
[ 344]    0213: E2 FB                                 LOOP    START_DELAY_ON
[ 345]    0215: 8A C4                                 MOV    AL,AH
[ 346]    0217: E6 61                                 OUT    61H,AL
[ 347]    0219: 58                                    POP    AX
[ 348]    021A: C3                                    RET
[ 349]        :                                       SPK_ON  ENDP
[ 350]        :                                       
[ 351]        :                                       ;-----------------------------------------------------DELAY-----------------------------------------------------------
[ 352]    021B:                                       DELAY   PROC    NEAR
[ 353]    021B: 50                                    PUSH    AX
[ 354]    021C: 51                                    PUSH    CX
[ 355]    021D: B9 50 08                              MOV    CX,850H ;DELAY VALUE
[ 356]        :                                       
[ 357]        :                                       
[ 358]    0220: E4 61                                 WAIT1:IN    AL,61H
[ 359]    0222: 24 10                                 AND    AL,10H
[ 360]    0224: 3A C4                                 CMP    AL,AH
[ 361]    0226: 74 F8                                 JE    WAIT1
[ 362]    0228: 8A E0                                 MOV    AH,AL
[ 363]    022A: E2 F4                                 LOOP    WAIT1
[ 364]    022C: 59                                    POP    CX
[ 365]    022D: 58                                    POP    AX
[ 366]    022E: C3                                    RET
[ 367]        :                                       DELAY ENDP
[ 368]        :                                       
[ 369]        :                                       END    MAIN
[ 370]        :                                       
[ 371]        :                                       
[ 372]        :                                       
[ 373]        :                                       
[ 374]        :                                       
[ 375]        :                                       ret
[ 376]        :                                       
[ 377]        :                                       
[ 378]        :                                       
[ 379]        :                                       
[ 380]        :                                       
[ 381]        :                                       
 
===================================================================================================
 




===================================================================================================
